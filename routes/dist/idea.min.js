"use strict";var express=require("express"),router=express.Router(),Idea=require("../models/Idea"),ideas=[{id:1,text:"Positive NewsLetter, a newsletter that only shares positive, uplifting news",tag:"Technology",username:"TonyStark",date:"2022-01-02"},{id:2,text:"Milk cartons that turn a different color the older that your milk is getting",tag:"Inventions",username:"SteveRogers",date:"2022-01-02"},{id:3,text:"ATM location app which lets you know where the closest ATM is and if it is in service",tag:"Software",username:"BruceBanner",date:"2022-01-02"}];router.get("/",function(e,t){var r;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Idea.find());case 3:r=e.sent,t.json({success:!0,data:r}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t.status(500).json({success:!0,error:"Something went wrong"});case 11:case"end":return e.stop()}},null,null,[[0,7]])}),router.get("/:id",function(t,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Idea.findById(t.params.id));case 3:n=e.sent,r.json({success:!0,data:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r.status(500).json({success:!0,error:"Something went wrong"});case 11:case"end":return e.stop()}},null,null,[[0,7]])}),router.post("/",function(t,r){var n,s;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Idea({text:t.body.text,tag:t.body.tag,username:t.body.username}),e.prev=1,e.next=4,regeneratorRuntime.awrap(n.save());case 4:s=e.sent,r.json({success:!0,data:s}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0),r.status(500).json({success:!1,error:"Something went wrong"});case 12:case"end":return e.stop()}},null,null,[[1,8]])}),router.put("/:id",function(t,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Idea.findByIdAndUpdate(t.params.id,{$set:{text:t.body.text,tag:t.body.tag}},{new:!0}));case 3:n=e.sent,r.json({success:!0,data:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r.status(500).json({success:!1,error:"Something went wrong"});case 11:case"end":return e.stop()}},null,null,[[0,7]])}),router.delete("/:id",function(t,r){var n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(Idea.findByIdAndDelete(t.params.id));case 3:n=e.sent,r.json({success:!0,data:n}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),r.json({success:!1,error:"Something went wrong"});case 11:case"end":return e.stop()}},null,null,[[0,7]])}),module.exports=router;
//# sourceMappingURL=idea.min.js.map
